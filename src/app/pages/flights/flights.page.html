<ion-header [translucent]="true">
  <ion-toolbar color="primary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>Flights Manager</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content>
  <ion-searchbar (ionInput)="handleChange($event)"></ion-searchbar>
  
  <ion-card *ngFor="let flight of filteredTickets" class="card">
    <ion-card-content>            
      <ion-fab slot="fixed" vertical="top" horizontal="end">
        <ion-fab-button size="small" color="danger" (click)="presentDeleteAlert(flight.flight_id)">
          <ion-icon name="trash"></ion-icon>
        </ion-fab-button>
      </ion-fab>
    </ion-card-content>
    <div (click)="editTicket(flight)">
      <ion-grid>
        <ion-row>
          <ion-col size="3" class="ion-text-center">
            <ion-img class="size-img" src="{{flight.aeroline_img}}"></ion-img>          
          </ion-col>
          <ion-col size="9">
            <ion-card-title class="medium-text ion-text-center">{{flight.departure_city}} <ion-icon name="arrow-forward-outline"></ion-icon> {{flight.destination_city}}</ion-card-title>
            <h5 class="small-text ion-text-center">{{flight.departure_date}} <ion-icon name="remove-outline"></ion-icon> {{flight.destination_date}}</h5>
          
            <ion-row>
              <ion-col size="1">
              </ion-col>
              <ion-col size="6">
                <p style="color:#98a1fb;">Adults</p>
                <p style="color:white;font-weight: bold;">${{flight.adult_price}}</p>
                <p class="small-text"><span style="color:#98a1fb;">Seats:</span> {{flight.adult_available}}</p>
              </ion-col>
              <ion-col size="5">
                <p style="color:#98a1fb;">Children</p>
                <p style="color:white;font-weight: bold;">${{flight.child_price}}</p>
                <p class="small-text"><span style="color:#98a1fb;">Seats:</span> {{flight.child_available}}</p>
              </ion-col>
            </ion-row>
          </ion-col>
        </ion-row>
      </ion-grid>            
    </div>
  </ion-card>


  <ion-fab vertical="bottom" horizontal="end" slot="fixed">
    <ion-fab-button (click)="addTicket()">
      <ion-icon name="add"></ion-icon>
    </ion-fab-button>
  </ion-fab>

</ion-content>